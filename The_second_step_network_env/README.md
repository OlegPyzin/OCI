# Network Environments

### Подготовка исходных данных
В первом шаге были созданы COMPARTMENTS.
Далее необходимо подготовить сетевое окружение для запуска виртуальных машин. Начнем с подготовки файла terraform.tfvars, для этого откройте его на редактирование и довавьте в него переменную compartment_id, значение для этой переменной можно взять из файла ../The_first_step_compartment/output/compartments.lst. Как вариант можно взять terraform.tfvars.example файл из текущего каталога и заменить все примеры переменных их реальными значениями.
Также добавлены следующие переменные: vcn_display_name, vcn_dns_label, vcn_cidr_block, subnet_display_name, subnet_dns_label, subnet_cidr_block, internet_gateway_display_name.
### Network environment for the VM
Современные компьютеры, являются ли они реальными (персональный компьтер, ноутбук и так далее) или, как в нашем случае виртуальный компьютер, нуждаются в сетевом окружении. Так реальные компьютеры могут использовать WiFi или же подключение к какому-нибудь сетевому устройству посредством кабеля для того, чтобы можно было пользоваться огромным числом сервисов, предоставляемых Internet. Безусловно реальные компьютеры могут работать и без сетевого окружения но это сейчас скорее всего исключение чем правило.
Для создания сетевого окружения реальных компьютеров существует огромное количество устройств, таких как: routers, switches, bridges и так далее.
Работа же виртуальной машины без сетевого окружения вообще не представляется возможной, поскольку даже стандартные средства ввода и вывода информации, такие как клавиатура и дисплей, вообще отсутствуют в ней. Поэтому одна из задач - это подготовка сетевого окружения для запуска в нем виртуальной машины.
#### VCNs and SUBNETs
Каким образом можно создавать Virtual Networks Cloud и SUBNETs в нашем Tenancy? В ресурсах terraform необходимых для создания VCN и SubNet имеется параметр compartment_id. В первом шаге данный параметр использовался для того, чтобы создавать иерархическую структуру COMPARTMENT. Можно предположить что применяя различные данные для этого параметра можно создавать различные комбинации соотношений VCNs и SUBNETs. Главное условие при создании VCNs и SUBNETs это соблюдение требования о не "пересечении" CIDR блоков между собой.
Также необходимо отметить что SUBNETs создаются внутри одной VPC и соответственно CIDR блоки SUBNETs не должны пересекаться между собой и не выходить за пределы VCN, где они создаются. Также адреса сетей в VCN не должны пересекаться между собой.

К примеру можно создать одну VCN под TENANCY и создать SubNet для каждого из COMPARTMENTs. Или создать для каждого COMPARTMENT свою VCN и далее создать необходимое количество подсетей в созданной VCN. Можно легко провести эксперимент меняя значение compartment_id в соответствующих resource и добавляя необходимое количество resource.

Ознакомиться с оригинальным описанием VCNs и SUBNETs можно [здесь:](https://docs.oracle.com/en-us/iaas/Content/Network/Tasks/managingVCNs_topic-Overview_of_VCNs_and_Subnets.htm#Overview)
https://docs.oracle.com/en-us/iaas/Content/Network/Tasks/managingVCNs_topic-Overview_of_VCNs_and_Subnets.htm#Overview
#### GateWay, Route, DNS and DHCP services for the virtual machine

####

```commandlines
$ terraform init
$ terraform plan
$ terraform apply
```
### How to delete OpenVPN service
```commandline
$ terraform destroy
```
### Дополнительная информация
